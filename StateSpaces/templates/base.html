{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" 
       rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" 
        crossorigin="anonymous"></script>
        <link href="https://fonts.googleapis.com/css2?family=Crimson+Text&display=swap" rel="stylesheet">
        <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
        
        <meta http-equiv="X-UA-Compatible" content="IE-edge">
        <meta name="viewport" content="width=device-width, initialize-scale=1.0">

        <link rel="icon" href="{% static 'images/favicon.png' %}" type="image/png">
       
       
        <title>{% block title %}StateSpaces{% endblock %}</title>
         <style>
            body {
                font-family: 'Crimson Text', serif; 
                background-color: #F3EFE6;  
                font-size: 20px;
            }

             .navbar-logo {
                height: 56px;
                width: auto; 
            }

            .custom-btn {
                background-color: #dfdcd4;
                transition: background-color 0.3s;
            }

            .custom-btn:hover {
                background-color: #495444;
                color: #fff;
            }

        </style>
        {% block styles %}   
        {% endblock %}
    </head>
        

    <body style="margin: 0px;">

        <!-- AOS JS -->
        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
        <script>
            AOS.init();
        </script>
        
        <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #5e6c5b;"> 
            <div class="container-fluid"> <a class="navbar-brand" href="{% url 'main_interface:homepage' %}"> 
                <img src="{% static 'images/logo.png' %}" alt="Logo" width="50" height="50" class="d-inline-block align-text-top"> </a> 
                <div class="collapse navbar-collapse" id="navbarSupportedContent"> 
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0"> 
                        <!-- If user is logged in-->
                        {% if request.user.is_authenticated %}
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    Hello, {{ request.user.username }}! | 
                                </a>
                            </li>
                            <li class="nav-item"> 
                            <a class="nav-link active" aria-current="page" href="{% url 'main_interface:homepage' %}">Home</a> 
                            </li> 
                            <li class="nav-item"> 
                                <a class="nav-link active" aria-current="page" href="{% url 'venues:venues-list' %}">Venues</a> 
                            </li> 
                            <li class="nav-item">
                               <a class="nav-link active" href="{% url 'accounts:profile' username=request.user.username %}">Profile</a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link active" href="#" id="logout-link">Logout</a>
                            </li>
                            <form id="logout-form" action="{% url 'logout' %}" method="POST" hidden>
                                {% csrf_token %}
                            </form>
                            <script>
                            document.getElementById('logout-link').addEventListener('click', function (e) {
                                //e.preventDefault();
                                document.getElementById('logout-form').submit();
                            });
                            </script>

                        {% else %}
                        <!-- If user is NOT logged in-->
                        <li class="nav-item"> 
                            <a class="nav-link active" aria-current="page" href="#">Home</a> 
                        </li> 
                        <li class="nav-item"> 
                            <a class="nav-link active" aria-current="page" href="#">Venues</a> 
                        </li> 
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="{% url 'login' %}">Login</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="{% url 'accounts:register' %}">Register</a>
                        </li>
                        {% endif %}
                    </ul> 
                    <form class="d-flex" action="{% url 'venues:venues-search' %}" method="get">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="q"> 
                        <button class="btn rounded-pill custom-btn" type="submit">Search</button> 
                    </form>
                </div> 
            </div> 
        </nav>
        <h1>{% block header %}{% endblock %}</h1>

        {% block content %} {% endblock %}

        

    </body>
</html>
